import{a as B,b as Y,c as G,d as J,e as K}from"./chunk-NOMWI737.js";import{A as x,B as j,s as I,t as y,u as U,v as L,w as Z,x as D,y as q,z as V}from"./chunk-SAVMY5MH.js";import{U as M}from"./chunk-OM5F6SG5.js";import{Ae as E,Ee as v,Fc as $,Fd as A,Jc as l,N as f,Pc as m,Sd as F,Td as C,_f as P,a,b as h,ee as g,fg as T,gf as u,ig as k,lf as O,qa as p,ra as w,ta as d,ua as R,we as S,ye as b,za as H}from"./chunk-Q7YDE2H2.js";var Q=(()=>{let r=class r{constructor(t){this.converter=t}convert(t,e){return e===void 0&&(e=a({},t)),t.entries&&(e.entries=t.entries.map(n=>this.convertOrderEntry(n,t.code,t.appliedProductPromotions))),t.consignments&&(e.consignments=t.consignments.map(n=>h(a({},n),{entries:n.entries?.map(o=>h(a({},o),{orderEntry:this.convertOrderEntry(o.orderEntry,t.code,t.appliedProductPromotions)}))}))),t.unconsignedEntries&&(e.unconsignedEntries=t.unconsignedEntries.map(n=>this.convertOrderEntry(n,t.code,t.appliedProductPromotions))),e}convertOrderEntry(t,e,n){return h(a({},t),{product:this.converter.convert(t?.product,O),orderCode:e,promotions:this.converter.convert({item:t,promotions:n},M)})}};r.\u0275fac=function(e){return new(e||r)(d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})(),W=(()=>{let r=class r{constructor(t){this.converter=t}convert(t,e){return e===void 0&&(e=a({},t)),t.entries&&(e.entries=t.entries.map(n=>h(a({},n),{product:this.converter.convert(n.product,O),promotions:this.converter.convert({item:n,promotions:t.appliedProductPromotions},M)}))),e}};r.\u0275fac=function(e){return new(e||r)(d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})(),X=(()=>{let r=class r{constructor(t){this.converter=t}convert(t,e){return e===void 0&&(e=a({},t)),t.returnEntries&&(e.returnEntries=t.returnEntries.map(n=>h(a({},n),{orderEntry:this.convertOrderEntry(n.orderEntry)}))),e}convertOrderEntry(t){return h(a({},t),{product:this.converter.convert(t?.product,O)})}};r.\u0275fac=function(e){return new(e||r)(d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})(),z=(()=>{let r=class r{convert(t,e){return e===void 0&&(e=a({},t)),t.replenishmentStartDate&&(e.replenishmentStartDate=this.convertDate(t.replenishmentStartDate)),e}convertDate(t){let e=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hourCycle:"h23"});return`${t}T${e}:00${k.getLocalTimezoneOffset()}`}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})(),N={"Content-Type":"application/json"},_=(()=>{let r=class r{constructor(t,e,n){this.http=t,this.occEndpoints=e,this.converter=n,this.logger=R(g)}load(t,e){let n=this.occEndpoints.buildUrl("orderDetail",{urlParams:{userId:t,orderId:e}}),o=new l;return t===C&&(o=b.createHeader(S,!0,o)),this.http.get(n,{headers:o}).pipe(this.converter.pipeable(I))}loadHistory(t,e,n,o){let s={};e&&(s.pageSize=e.toString()),n&&(s.currentPage=n.toString()),o&&(s.sort=o.toString());let c=this.occEndpoints.buildUrl("orderHistory",{urlParams:{userId:t},queryParams:s});return this.http.get(c).pipe(this.converter.pipeable(L))}getConsignmentTracking(t,e,n=F){let o=this.occEndpoints.buildUrl("consignmentTracking",{urlParams:{userId:n,orderCode:t,consignmentCode:e}});return this.http.get(o).pipe(this.converter.pipeable(Z))}cancel(t,e,n){let o=this.occEndpoints.buildUrl("cancelOrder",{urlParams:{userId:t,orderId:e}}),s=new l(a({},N));return this.http.post(o,n,{headers:s}).pipe(f(c=>{throw v(c,this.logger)}))}createReturnRequest(t,e){let n=this.occEndpoints.buildUrl("returnOrder",{urlParams:{userId:t}}),o=new l(a({},N));return e=this.converter.convert(e,q),this.http.post(n,e,{headers:o}).pipe(f(s=>{throw v(s,this.logger)}),this.converter.pipeable(D))}loadReturnRequestList(t,e,n,o){let s={};e&&(s.pageSize=e.toString()),n&&(s.currentPage=n.toString()),o&&(s.sort=o.toString());let c=this.occEndpoints.buildUrl("orderReturns",{urlParams:{userId:t},queryParams:s});return this.http.get(c).pipe(this.converter.pipeable(V))}loadReturnRequestDetail(t,e){let n=this.occEndpoints.buildUrl("orderReturnDetail",{urlParams:{userId:t,returnRequestCode:e}});return this.http.get(n).pipe(this.converter.pipeable(D))}cancelReturnRequest(t,e,n){let o=this.occEndpoints.buildUrl("cancelReturn",{urlParams:{userId:t,returnRequestCode:e}}),s=new l(a({},N));return this.http.patch(o,n,{headers:s}).pipe(f(c=>{throw v(c,this.logger)}))}};r.\u0275fac=function(e){return new(e||r)(d(m),d(E),d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let i=r;return i})(),ee=(()=>{let r=class r{constructor(t,e,n){this.http=t,this.occEndpoints=e,this.converter=n,this.logger=R(g)}placeOrder(t,e,n){let o=new l({"Content-Type":"application/x-www-form-urlencoded"});return t===C&&(o=b.createHeader(S,!0,o)),this.http.post(this.getPlaceOrderEndpoint(t,e,n.toString()),{},{headers:o}).pipe(f(s=>{throw v(s,this.logger)}),T({shouldRetry:P}),this.converter.pipeable(I))}getPlaceOrderEndpoint(t,e,n){return this.occEndpoints.buildUrl("placeOrder",{urlParams:{userId:t},queryParams:{cartId:e,termsChecked:n}})}};r.\u0275fac=function(e){return new(e||r)(d(m),d(E),d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let i=r;return i})(),te=(()=>{let r=class r{constructor(t,e,n){this.http=t,this.occEndpoints=e,this.converter=n}load(t,e){return this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetails",{urlParams:{userId:t,replenishmentOrderCode:e}})).pipe(this.converter.pipeable(y))}loadReplenishmentDetailsHistory(t,e,n,o,s){let c={};return n&&(c.pageSize=n.toString()),o&&(c.currentPage=o.toString()),s&&(c.sort=s.toString()),this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetailsHistory",{urlParams:{userId:t,replenishmentOrderCode:e},queryParams:c})).pipe(this.converter.pipeable(L))}cancelReplenishmentOrder(t,e){let n=new l().set("Content-Type","application/json");return this.http.patch(this.occEndpoints.buildUrl("cancelReplenishmentOrder",{urlParams:{userId:t,replenishmentOrderCode:e}}),{},{headers:n}).pipe(this.converter.pipeable(y))}loadHistory(t,e,n,o){let s={};e&&(s.pageSize=e.toString()),n&&(s.currentPage=n.toString()),o&&(s.sort=o.toString());let c=this.occEndpoints.buildUrl("replenishmentOrderHistory",{urlParams:{userId:t},queryParams:s});return this.http.get(c).pipe(this.converter.pipeable(x))}};r.\u0275fac=function(e){return new(e||r)(d(m),d(E),d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let i=r;return i})(),re=(()=>{let r=class r{constructor(t,e,n){this.http=t,this.occEndpoints=e,this.converter=n,this.logger=R(g)}scheduleReplenishmentOrder(t,e,n,o){e=this.converter.convert(e,j);let s=new l().set("Content-Type","application/json");return this.http.post(this.getScheduleReplenishmentOrderEndpoint(o,t,n.toString()),e,{headers:s}).pipe(f(c=>{throw v(c,this.logger)}),T({shouldRetry:P}),this.converter.pipeable(y))}getScheduleReplenishmentOrderEndpoint(t,e,n){return this.occEndpoints.buildUrl("scheduleReplenishmentOrder",{urlParams:{userId:t},queryParams:{cartId:e,termsChecked:n}})}};r.\u0275fac=function(e){return new(e||r)(d(m),d(E),d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let i=r;return i})(),ne=(()=>{let r=class r{convert(t,e){return e===void 0&&(e=a({},t)),e}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})(),ie=(()=>{let r=class r{constructor(t,e,n){this.http=t,this.occEndpoints=e,this.converter=n,this.logger=R(g)}reorder(t,e){let n=new l().set("Content-Type","application/json");return this.http.post(this.getReorderOrderEndpoint(t,e),{},{headers:n}).pipe(f(o=>{throw v(o,this.logger)}),this.converter.pipeable(U))}getReorderOrderEndpoint(t,e){return this.occEndpoints.buildUrl("reorder",{urlParams:{userId:e},queryParams:{orderCode:t}})}};r.\u0275fac=function(e){return new(e||r)(d(m),d(E),d(u))},r.\u0275prov=p({token:r,factory:r.\u0275fac});let i=r;return i})(),oe={backend:{occ:{endpoints:{orderHistory:"users/${userId}/orders",orderDetail:"users/${userId}/orders/${orderId}?fields=FULL",consignmentTracking:"users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking",cancelOrder:"users/${userId}/orders/${orderId}/cancellation",returnOrder:"users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",orderReturns:"users/${userId}/orderReturns?fields=BASIC",orderReturnDetail:"users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",cancelReturn:"users/${userId}/orderReturns/${returnRequestCode}",replenishmentOrderDetails:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderDetailsHistory:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}/orders",cancelReplenishmentOrder:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderHistory:"users/${userId}/replenishmentOrders?fields=FULL,replenishmentOrders(FULL, purchaseOrderNumber)",placeOrder:"users/${userId}/orders?fields=FULL"}}}},ge=(()=>{let r=class r{};r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=H({type:r}),r.\u0275inj=w({providers:[A(oe),{provide:B,useClass:_},{provide:J,useClass:te},{provide:Y,useClass:ee},{provide:K,useClass:re},{provide:G,useClass:ie},{provide:D,useExisting:X,multi:!0},{provide:I,useExisting:Q,multi:!0},{provide:y,useExisting:W,multi:!0},{provide:j,useExisting:z,multi:!0},{provide:U,useExisting:ne,multi:!0}],imports:[$]});let i=r;return i})();export{Q as a,ge as b};
