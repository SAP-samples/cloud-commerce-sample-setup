import{a as Ut,d as Wt}from"./chunk-UKAF67E4.js";import{$ as jt,E as Nt,Qa as $t,Ta as Gt,V as Vt,X as Bt,Y as he,_ as ye,aa as re,b as Ot,d as kt,j as At,o as Rt,pa as Pt}from"./chunk-F5NBEN52.js";import{Aa as tt,Ab as Me,Ae as Ct,Bb as Le,Bc as pt,Bd as yt,Cb as De,Cc as ut,Da as it,Db as K,Ea as C,Eb as _,Ee as xe,Fa as I,Fb as A,Fc as _e,Fd as Z,Gb as v,Gc as mt,Hb as $,I as Xe,Ka as Te,La as nt,Me as It,N as le,Ne as Et,Nf as Mt,Ob as be,Pa as pe,Pb as F,Pc as _t,Qb as at,Rb as ue,Rd as h,Sa as r,Ta as y,Vb as u,Wb as f,Xb as Q,Ze as ne,_b as X,a as U,ab as we,b as W,bb as m,be as Ft,cb as w,cd as ft,db as s,dc as st,dd as q,df as Tt,ed as G,ee as ve,ef as oe,f as Ze,fd as gt,gd as vt,gf as wt,hg as Lt,ia as Ee,ic as ct,ie as H,jb as l,jd as te,kb as c,kd as Oe,lb as S,ld as ie,lg as O,mb as L,md as St,mg as Dt,na as et,nb as D,og as bt,pb as b,qa as V,qc as me,ra as B,rb as E,rd as fe,re as Se,s as ce,sa as de,sb as p,sc as Y,sd as xt,ta as x,tb as ot,tc as P,ua as z,ub as rt,uc as lt,v as M,vb as J,vc as dt,vd as ge,x as Je,xd as ht,ya as T,yc as ee,za as j}from"./chunk-Q7YDE2H2.js";var We=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=V({token:t,factory:function(o){let a=null;return o?a=new(o||t):a=x(yt),a},providedIn:"root"});let e=t;return e})(),ae=class{},qe=(()=>{let t=class t{constructor(n){this.adapter=n}search(n,o,a,d){return this.adapter.search(n,o,a,d)}getCounts(){return this.adapter.loadCounts()}get(n){return this.adapter.load(n)}};t.\u0275fac=function(o){return new(o||t)(x(ae))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zt=new de("StoreFinderSearchPageNormalizer"),Kt=new de("StoreCountNormalizer"),Qt="stores",k="[StoreFinder] Store Finder Data",gi="[StoreFinder] On Hold",Yt="[StoreFinder] Find Stores",vi="[StoreFinder] Find Stores Fail",Zt="[StoreFinder] Find Stores Success",Jt="[StoreFinder] Find a Store by Id",Si="[StoreFinder] Find a Store by Id Fail",Xt="[StoreFinder] Find a Store by Id Success",ke=class extends h.LoaderLoadAction{constructor(){super(k),this.type=gi}},Fe=class extends h.LoaderLoadAction{constructor(t){super(k),this.payload=t,this.type=Yt}},Ae=class extends h.LoaderFailAction{constructor(t){super(k,t),this.payload=t,this.type=vi}},Re=class extends h.LoaderSuccessAction{constructor(t){super(k),this.payload=t,this.type=Zt}},Ne=class extends h.LoaderLoadAction{constructor(t){super(k),this.payload=t,this.type=Jt}},Ve=class extends h.LoaderFailAction{constructor(t){super(k,t),this.payload=t,this.type=Si}},Be=class extends h.LoaderSuccessAction{constructor(t){super(k),this.payload=t,this.type=Xt}},ei="[StoreFinder] View All Stores",xi="[StoreFinder] View All Stores Fail",ti="[StoreFinder] View All Stores Success",He="[StoreFinder] Clear Data",je=class extends h.LoaderLoadAction{constructor(){super(k),this.type=ei}},Pe=class extends h.LoaderFailAction{constructor(t){super(k,t),this.payload=t,this.type=xi}},$e=class extends h.LoaderSuccessAction{constructor(t){super(k),this.payload=t,this.type=ti}},Ge=class{constructor(){this.type=He}};var ii=gt(Qt),ze=G(ii,e=>e.findStores),qt=G(ze,e=>h.loaderValueSelector(e)),hi=G(ze,e=>h.loaderLoadingSelector(e)),yi=G(ze,e=>h.loaderSuccessSelector(e)),ni=G(ii,e=>e.viewAllStores),Fi=G(ni,e=>h.loaderValueSelector(e)),Ci=G(ni,e=>h.loaderLoadingSelector(e));var R=(()=>{let t=class t{constructor(n,o,a,d,g){this.store=n,this.winRef=o,this.globalMessageService=a,this.routingService=d,this.platformId=g,this.geolocationWatchId=null,this.subscription=new Ze,this.reloadStoreEntitiesOnContextChange()}getStoresLoading(){return this.store.pipe(q(hi))}getStoresLoaded(){return this.store.pipe(q(yi))}getFindStoresEntities(){return this.store.pipe(q(qt),M(n=>n.findStoresEntities))}getFindStoreEntityById(){return this.store.pipe(q(qt),M(n=>n.findStoreEntityById))}getViewAllStoresLoading(){return this.store.pipe(q(Ci))}getViewAllStoresEntities(){return this.store.pipe(q(Fi),M(n=>n.viewAllStoresEntities))}findStoresAction(n,o,a,d,g,N){g&&this.winRef.nativeWindow?(this.clearWatchGeolocation(new ke),this.geolocationWatchId=this.winRef.nativeWindow.navigator.geolocation.watchPosition(Ye=>{let fi={longitude:Ye.coords.longitude,latitude:Ye.coords.latitude};this.clearWatchGeolocation(new Fe({queryText:n,searchConfig:o,longitudeLatitude:fi,countryIsoCode:d,radius:N}))},()=>{this.globalMessageService.add({key:"storeFinder.geolocationNotEnabled"},It.MSG_TYPE_ERROR),this.routingService.go(["/store-finder"])})):this.clearWatchGeolocation(new Fe({queryText:n,searchConfig:o,longitudeLatitude:a,countryIsoCode:d,radius:N}))}viewAllStores(){this.clearWatchGeolocation(new je)}viewStoreById(n){this.clearWatchGeolocation(new Ne({storeId:n}))}clearWatchGeolocation(n){this.geolocationWatchId!==null&&(this.winRef.nativeWindow?.navigator.geolocation.clearWatch(this.geolocationWatchId),this.geolocationWatchId=null),this.store.dispatch(n)}isEmpty(n){return!n||typeof n=="object"&&Object.keys(n).length===0}reloadStoreEntitiesOnContextChange(){(mt(this.platformId)||!this.platformId)&&(this.subscription=this.getFindStoresEntities().pipe(Xe(n=>this.isEmpty(n)),et(this.getStoresLoading(),this.getStoresLoaded(),this.routingService.getParams())).subscribe(([,n,o,a])=>{!n&&!o&&(a.country&&!a.store&&this.callFindStoresAction(a),a.store&&this.viewStoreById(a.store))}))}callFindStoresAction(n){this.findStoresAction("",{pageSize:-1},void 0,n.country)}ngOnDestroy(){this.subscription?.unsubscribe()}getStoreLatitude(n){return n?.geoPoint?.latitude}getStoreLongitude(n){return n?.geoPoint?.longitude}getDirections(n){let o="https://www.google.com/maps/dir/Current+Location/",a=this.getStoreLatitude(n),d=this.getStoreLongitude(n);return o+a+","+d}};t.\u0275fac=function(o){return new(o||t)(x(ft),x(Ft),x(Et),x(H),x(nt))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oi=(()=>{let t=class t{constructor(n,o,a){this.config=n,this.storeFinderService=o,this.scriptLoader=a,this.googleMap=null,this.logger=z(ve)}renderMap(n,o,a){if(this.config.googleMaps?.apiKey){if(Object.entries(o[Object.keys(o)[0]]).length>0)if(this.googleMap===null){let d=this.config.googleMaps.apiKey===Ut?"":this.config.googleMaps.apiKey;this.scriptLoader.embedScript({src:this.config.googleMaps.apiUrl,params:{key:d},attributes:{type:"text/javascript"},callback:()=>{this.drawMap(n,o,a)}})}else this.drawMap(n,o,a)}else st()&&this.logger.warn("A Google Maps api key is required in the store finder configuration to display the Google map.")}centerMap(n,o){this.googleMap.panTo({lat:n,lng:o}),this.googleMap.setZoom(this.config.googleMaps.selectedMarkerScale)}defineMapCenter(n){return new google.maps.LatLng(this.storeFinderService.getStoreLatitude(n[0]),this.storeFinderService.getStoreLongitude(n[0]))}initMap(n,o){let d={center:o,zoom:this.config.googleMaps.scale,mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy"};this.googleMap=new google.maps.Map(n,d)}createMarkers(n,o){this.markers=[],n.forEach((a,d)=>{let g=new google.maps.Marker({position:new google.maps.LatLng(this.storeFinderService.getStoreLatitude(a),this.storeFinderService.getStoreLongitude(a)),label:d+1+""});this.markers.push(g),g.setMap(this.googleMap),g.addListener("mouseover",function(){g.setAnimation(google.maps.Animation.BOUNCE)}),g.addListener("mouseout",function(){g.setAnimation(null)}),o&&g.addListener("click",function(){o(d)})})}drawMap(n,o,a){this.initMap(n,this.defineMapCenter(o)),this.createMarkers(o,a)}};t.\u0275fac=function(o){return new(o||t)(x(We),x(R),x(Lt))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ii={googleMaps:{apiUrl:"https://maps.googleapis.com/maps/api/js",apiKey:"",scale:5,selectedMarkerScale:17,radius:5e4}},Ei={findStoresEntities:{},findStoreEntityById:{}};function Ti(e=Ei,t){switch(t.type){case Zt:{let i=t.payload;return W(U({},e),{findStoresEntities:i})}case Xt:{let i=t.payload;return W(U({},e),{findStoreEntityById:i})}}return e}var wi={viewAllStoresEntities:{}};function Mi(e=wi,t){switch(t.type){case ti:{let i=t.payload;return W(U({},e),{viewAllStoresEntities:i})}}return e}function Li(){return{findStores:h.loaderReducer(k,Ti),viewAllStores:h.loaderReducer(k,Mi)}}var ri=new de("StoreFinderReducers"),Di={provide:ri,useFactory:Li};function bi(e){return function(t,i){return i.type===Se.LANGUAGE_CHANGE&&(t=void 0),i.type===He&&(t=void 0),e(t,i)}}var Oi=[bi],ki=(()=>{let t=class t{constructor(n,o){this.actions$=n,this.storeFinderConnector=o,this.logger=z(ve),this.findStores$=te(()=>this.actions$.pipe(ie(Yt),M(a=>a.payload),Je(a=>this.storeFinderConnector.search(a.queryText,a.searchConfig,a.longitudeLatitude,a.radius).pipe(M(d=>(a.countryIsoCode&&(d.stores=d.stores.filter(g=>g.address.country.isocode===a.countryIsoCode),d.stores.sort((g,N)=>g.name<N.name?-1:g.name>N.name?1:0)),new Re(d))),le(d=>ce(new Ae(xe(d,this.logger)))))))),this.findStoreById$=te(()=>this.actions$.pipe(ie(Jt),M(a=>a.payload),Ee(a=>this.storeFinderConnector.get(a.storeId).pipe(M(d=>new Be(d)),le(d=>ce(new Ve(xe(d,this.logger))))))))}};t.\u0275fac=function(o){return new(o||t)(x(Oe),x(qe))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let e=t;return e})(),Ai=(()=>{let t=class t{constructor(n,o){this.actions$=n,this.storeFinderConnector=o,this.logger=z(ve),this.viewAllStores$=te(()=>this.actions$.pipe(ie(ei,He),Ee(()=>this.storeFinderConnector.getCounts().pipe(M(a=>(a.sort((d,g)=>d.name<g.name?-1:d.name>g.name?1:0),new $e(a))),le(a=>ce(new Pe(xe(a,this.logger)))))))),this.clearStoreFinderData$=te(()=>this.actions$.pipe(ie(Se.LANGUAGE_CHANGE,Se.CURRENCY_CHANGE),M(()=>new Ge)))}};t.\u0275fac=function(o){return new(o||t)(x(Oe),x(qe))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let e=t;return e})(),Ri=[ki,Ai],Ni=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=j({type:t}),t.\u0275inj=B({providers:[Di],imports:[_e,vt.forFeature(Qt,ri,{metaReducers:Oi}),St.forFeature(Ri)]});let e=t;return e})(),Ce=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=j({type:t}),t.\u0275inj=B({providers:[Z(Ii),qe],imports:[Ni]});let e=t;return e})();var Bi=(()=>{let t=class t{constructor(n,o,a){this.http=n,this.occEndpointsService=o,this.converterService=a}search(n,o,a,d){return this.callOccFindStores(n,o,a,d).pipe(this.converterService.pipeable(zt))}loadCounts(){return this.http.get(this.occEndpointsService.buildUrl("storescounts")).pipe(M(({countriesAndRegionsStoreCount:n})=>n),this.converterService.pipeableMany(Kt))}load(n){return this.http.get(this.occEndpointsService.buildUrl("store",{urlParams:{storeId:n}})).pipe(this.converterService.pipeable(bt))}callOccFindStores(n,o,a,d){let g={};return a?(g.longitude=String(a.longitude),g.latitude=String(a.latitude)):g.query=n,d&&(g.radius=String(d)),o?.pageSize&&(g.pageSize=String(o.pageSize)),o?.currentPage&&(g.currentPage=String(o.currentPage)),o?.sort&&(g.sort=o.sort),this.http.get(this.occEndpointsService.buildUrl("stores",{queryParams:g}))}};t.\u0275fac=function(o){return new(o||t)(x(_t),x(Ct),x(wt))},t.\u0275prov=V({token:t,factory:t.\u0275fac});let e=t;return e})(),ji={backend:{occ:{endpoints:{store:"stores/${storeId}?fields=FULL",stores:"stores?fields=stores(name,displayName,formattedDistance,openingHours(weekDayOpeningList(FULL),specialDayOpeningList(FULL)),geoPoint(latitude,longitude),address(line1,line2,town,region(FULL),postalCode,phone,country,email), features),pagination(DEFAULT),sorts(DEFAULT)",storescounts:"stores/storescounts"}}}},ai=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=j({type:t}),t.\u0275inj=B({providers:[Z(ji),{provide:ae,useClass:Bi}]});let e=t;return e})();var Pi=["*"];function $i(e,t){e&1&&(l(0,"div",7),_(1),u(2,"cxTranslate"),c()),e&2&&(r(),v(" ",f(2,1,"storeFinder.closed")," "))}function Gi(e,t){if(e&1&&(l(0,"div",8),_(1),c()),e&2){let i=p().$implicit;r(),$(" ",i.openingTime==null?null:i.openingTime.formattedHour," - ",i.closingTime==null?null:i.closingTime.formattedHour," ")}}function Ui(e,t){if(e&1&&(l(0,"div",3)(1,"div",4),_(2),c(),m(3,$i,3,3,"div",5)(4,Gi,2,2,"div",6),c()),e&2){let i=t.$implicit;r(2),A(i.weekDay),r(),s("ngIf",i.closed),r(),s("ngIf",!i.closed)}}function Wi(e,t){if(e&1&&(l(0,"div",1),m(1,Ui,5,3,"div",2),c()),e&2){let i=p();r(),s("ngForOf",i.weekDays)}}var qi=(e,t)=>({displayName:e,name:t}),Ie=e=>[e],Qe=(e,t,i)=>[e,t,i];function Hi(e,t){if(e&1){let i=b();l(0,"a",7),E("click",function(){C(i);let o=p();return I(o.handleStoreItemClick())})("keyup",function(o){C(i);let a=p();return I(a.onKey(o))}),_(1),c()}if(e&2){let i=p();r(),v(" ",i.location.displayName||i.location.name," ")}}function zi(e,t){if(e&1&&(l(0,"a",8),_(1),c()),e&2){let i=p();s("routerLink",F(2,Ie,i.location.name)),r(),v(" ",i.location.displayName||i.location.name," ")}}function Ki(e,t){if(e&1&&(l(0,"div",12),_(1),c()),e&2){let i=p(2);r(),v(" ",i.location.formattedDistance," ")}}function Qi(e,t){if(e&1&&(l(0,"div",9)(1,"div",10),_(2),c(),_(3),m(4,Ki,2,1,"div",11),c()),e&2){let i=p();r(2),$(" ",i.location.address.line1," ",i.location.address.line2," "),r(),v(" ",i.getFormattedStoreAddress(ue(4,Qe,i.location.address.town,i.location.address.postalCode,i.location.address.country.isocode))," "),r(),s("ngIf",i.location.formattedDistance&&i.displayDistance)}}function Yi(e,t){}var se=e=>({count:e});function Zi(e,t){if(e&1&&(l(0,"div",8)(1,"h3",9),_(2),u(3,"cxTranslate"),c(),l(4,"span",10),_(5),u(6,"cxTranslate"),c()()),e&2){let i=p().ngIf;r(2),v(" ",f(3,2,"storeFinder.storesFoundTitle")," "),r(3),v(" ",Q(6,4,"storeFinder.storesFound",F(7,se,i==null||i.stores==null?null:i.stores.length))," ")}}function Ji(e,t){if(e&1&&(l(0,"div",11),_(1),u(2,"cxTranslate"),c()),e&2){let i=p().ngIf;r(),v(" ",Q(2,1,"storeFinder.storesFound",F(4,se,i==null||i.stores==null?null:i.stores.length))," ")}}function Xi(e,t){if(e&1&&(l(0,"div",12),S(1,"cx-store-finder-list-item",13),c()),e&2){let i=t.$implicit;r(),s("location",i)}}function en(e,t){if(e&1&&(L(0),S(1,"div",2),u(2,"cxTranslate"),l(3,"div",3),m(4,Zi,7,9,"div",4)(5,Ji,3,6,"div",5),l(6,"div",6),m(7,Xi,2,1,"div",7),c()(),D()),e&2){let i=t.ngIf;r(),w("aria-label",f(2,4,"common.loaded")),r(3),s("cxFeature","a11yStoreFinderAlerts"),r(),s("cxFeature","!a11yStoreFinderAlerts"),r(2),s("ngForOf",i==null?null:i.stores)}}function tn(e,t){e&1&&(l(0,"div",14),S(1,"cx-spinner"),c())}var nn=()=>["/store-finder/find"],on=e=>({query:e}),rn=e=>({"disabled-action":e}),an=()=>["/store-finder/view-all"],sn=["mapElement"];function cn(e,t){if(e&1&&(l(0,"div",13)(1,"div"),_(2),c(),l(3,"div"),_(4),c()()),e&2){let i=p(3);r(2),$("",i.location.address.line1," ",i.location.address.line2,""),r(2),v(" ",i.getFormattedStoreAddress(ue(3,Qe,i.location.address.town,i.location.address.postalCode,i.location.address.country.isocode))," ")}}function ln(e,t){if(e&1&&(l(0,"li",7),_(1),u(2,"cxTranslate"),c()),e&2){let i=p(3);r(),$(" ",f(2,2,"storeFinder.call")," ",i.location.address==null?null:i.location.address.phone," ")}}function dn(e,t){if(e&1&&(l(0,"div",14)(1,"cx-schedule",15)(2,"h3"),_(3),u(4,"cxTranslate"),c()()()),e&2){let i=p(3);r(),s("location",i.location),r(2),A(f(4,2,"storeFinder.storeHours"))}}function pn(e,t){if(e&1&&(l(0,"div",19),_(1),c()),e&2){let i=t.$implicit;r(),v(" ",i.value," ")}}function un(e,t){if(e&1&&(l(0,"div",16)(1,"h3",17),_(2),u(3,"cxTranslate"),c(),l(4,"div"),m(5,pn,2,1,"div",18),c()()),e&2){let i=p(3);r(2),v(" ",f(3,2,"storeFinder.storeFeatures")," "),r(3),s("ngForOf",i.location.features==null?null:i.location.features.entry)}}function mn(e,t){if(e&1&&(l(0,"div",20),S(1,"cx-store-finder-map",21),c()),e&2){let i=p(3);r(),s("locations",F(1,Ie,i.location))}}function _n(e,t){if(e&1&&(L(0),l(1,"div",2)(2,"div",3)(3,"h2"),_(4),c(),m(5,cn,5,7,"div",4),l(6,"section",5)(7,"ul",6)(8,"li",7)(9,"a",8),u(10,"cxTranslate"),_(11),u(12,"cxTranslate"),c()(),m(13,ln,3,4,"li",9),c()(),m(14,dn,5,4,"div",10)(15,un,6,4,"div",11),u(16,"json"),c(),m(17,mn,2,3,"div",12),c(),D()),e&2){let i=p(2);r(4),A(i.location.displayName||i.location.name),r(),s("ngIf",i.location.address),r(4),s("href",i.getDirections(i.location),pe),w("aria-label",f(10,9,"storeFinder.ariaLabelGetDirections")),r(2),A(f(12,11,"storeFinder.getDirections")),r(2),s("ngIf",i.location.address==null?null:i.location.address.phone),r(),s("ngIf",i.location.openingHours),r(),s("ngIf",f(16,13,i.location.features)!=="{}"),r(2),s("ngIf",!i.disableMap)}}function fn(e,t){if(e&1&&(l(0,"p",13),_(1),S(2,"br"),_(3),c()),e&2){let i=p(4);r(),$(" ",i.location.address.line1," ",i.location.address.line2," "),r(2),v(" ",i.getFormattedStoreAddress(ue(3,Qe,i.location.address.town,i.location.address.postalCode,i.location.address.country.isocode))," ")}}function gn(e,t){if(e&1&&(l(0,"li",7),_(1),u(2,"cxTranslate"),c()),e&2){let i=p(4);r(),$(" ",f(2,2,"storeFinder.call")," ",i.location.address==null?null:i.location.address.phone," ")}}function vn(e,t){if(e&1&&(l(0,"div",14)(1,"cx-schedule",15)(2,"h3"),_(3),u(4,"cxTranslate"),c()()()),e&2){let i=p(4);r(),s("location",i.location),r(2),A(f(4,2,"storeFinder.storeHours"))}}function Sn(e,t){if(e&1&&(l(0,"div",29)(1,"div",30),_(2),c()()),e&2){let i=t.$implicit;r(2),A(i.value)}}function xn(e,t){if(e&1&&(l(0,"div",16)(1,"div",23)(2,"div",27)(3,"h3",17),_(4),u(5,"cxTranslate"),c()()(),l(6,"article",23),m(7,Sn,3,1,"div",28),c()()),e&2){let i=p(4);r(4),v(" ",f(5,2,"storeFinder.storeFeatures")," "),r(3),s("ngForOf",i.location.features==null?null:i.location.features.entry)}}function hn(e,t){if(e&1&&(l(0,"article",31),S(1,"cx-store-finder-map",21),c()),e&2){let i=p(4);r(),s("locations",F(1,Ie,i.location))}}function yn(e,t){if(e&1&&(L(0),l(1,"div",22)(2,"div",23)(3,"article",24)(4,"h2",25),_(5),c(),m(6,fn,4,7,"p",4),l(7,"section",5)(8,"ul",6)(9,"li",7)(10,"a",8),u(11,"cxTranslate"),_(12),u(13,"cxTranslate"),c()(),m(14,gn,3,4,"li",9),c()(),m(15,vn,5,4,"div",10)(16,xn,8,4,"div",11),u(17,"json"),c(),m(18,hn,2,3,"article",26),c()(),D()),e&2){let i=p(3);r(5),v(" ",i.location.displayName||i.location.name," "),r(),s("ngIf",i.location.address),r(4),s("href",i.getDirections(i.location),pe),w("aria-label",f(11,9,"storeFinder.ariaLabelGetDirections")),r(2),A(f(13,11,"storeFinder.getDirections")),r(2),s("ngIf",i.location.address==null?null:i.location.address.phone),r(),s("ngIf",i.location.openingHours),r(),s("ngIf",f(17,13,i.location.features)!=="{}"),r(2),s("ngIf",!i.disableMap)}}function Fn(e,t){if(e&1&&(L(0),m(1,yn,19,15,"ng-container",0),D()),e&2){let i=p(2);r(),s("ngIf",i.location)}}function Cn(e,t){e&1&&(L(0),m(1,_n,18,15,"ng-container",1)(2,Fn,2,1,"ng-container",1),D()),e&2&&(r(),s("cxFeature","a11yStoreFinderOverflow"),r(),s("cxFeature","!a11yStoreFinderOverflow"))}var In=["storeMap"],li=e=>({"cx-selected-item":e}),En=e=>({"nav-link":!0,active:e});function Tn(e,t){if(e&1){let i=b();l(0,"button",12),E("click",function(){C(i);let o=p(3);return I(o.hideStoreDetails())}),S(1,"cx-icon",13),_(2),u(3,"cxTranslate"),c()}if(e&2){let i=p(3);r(),s("type",i.iconTypes.CARET_LEFT),r(),v(" ",f(3,2,"storeFinder.back")," ")}}function wn(e,t){if(e&1&&(l(0,"div",6)(1,"div",7),S(2,"cx-store-finder-pagination-details",8),c(),l(3,"div",9)(4,"div",10),_(5),c(),m(6,Tn,4,4,"button",11),c()()),e&2){let i=p(2);r(2),s("pagination",i.locations.pagination),r(3),v(" ",i.storeDetails==null?null:i.storeDetails.displayName," "),r(),s("ngIf",i.isDetailsModeVisible)}}function Mn(e,t){if(e&1&&(l(0,"div",20),S(1,"cx-store-finder-store-description",21),c()),e&2){let i=p(3);r(),s("location",i.storeDetails)("disableMap",!0)}}function Ln(e,t){if(e&1){let i=b();l(0,"li",24)(1,"cx-store-finder-list-item",25),E("storeItemClick",function(o){let a=C(i).$implicit,d=p(4);return I(d.centerStoreOnMapByIndex(o,a))}),c()()}if(e&2){let i=t.$implicit,n=t.index,o=p(4);J("id","item-"+n),s("ngClass",F(7,li,o.selectedStoreIndex===n)),r(),s("location",i)("locationIndex",n)("displayDistance",o.useMylocation)("useClickEvent",!0)("listOrderLabel",n+o.locations.pagination.currentPage*o.locations.pagination.pageSize+1)}}function Dn(e,t){if(e&1&&(l(0,"ol",22),m(1,Ln,2,9,"li",23),c()),e&2){let i=p(3);r(),s("ngForOf",i.locations==null?null:i.locations.stores)}}function bn(e,t){if(e&1){let i=b();l(0,"div",14)(1,"div",15),m(2,Mn,2,2,"div",16)(3,Dn,2,1,"ol",17),c(),l(4,"div",18)(5,"cx-store-finder-map",19,0),E("selectedStoreItem",function(o){C(i);let a=p(2);return I(a.selectStoreItemList(o))}),c()()()}if(e&2){let i=p(2);r(2),s("ngIf",i.isDetailsModeVisible),r(),s("ngIf",!i.isDetailsModeVisible),r(2),s("locations",i.locations.stores)}}function On(e,t){if(e&1){let i=b();l(0,"li",32)(1,"button",33),E("click",function(){let o=C(i).$implicit,a=p(3);return I(a.setDisplayMode(o==null?null:o.value))}),_(2),u(3,"cxTranslate"),c()()}if(e&2){let i=t.$implicit,n=p(3);r(),s("id","tab-"+(i==null?null:i.value))("ngClass",F(7,En,n.isDisplayModeActive(i==null?null:i.value))),w("aria-controls","tab-"+(i==null?null:i.value)+"-panel")("aria-selected",n.isDisplayModeActive(i==null?null:i.value)),r(),v(" ",f(3,5,"storeFinder."+(i==null?null:i.value))," ")}}function kn(e,t){if(e&1&&(l(0,"div",20),S(1,"cx-store-finder-store-description",21),c()),e&2){let i=p(4);r(),s("location",i.storeDetails)("disableMap",!0)}}function An(e,t){if(e&1){let i=b();l(0,"li",24)(1,"cx-store-finder-list-item",25),E("storeItemClick",function(o){let a=C(i).$implicit,d=p(5);return I(d.centerStoreOnMapByIndex(o,a))}),c()()}if(e&2){let i=t.$implicit,n=t.index,o=p(5);J("id","item-"+n),s("ngClass",F(7,li,o.selectedStoreIndex===n)),r(),s("location",i)("locationIndex",n)("displayDistance",o.useMylocation)("useClickEvent",!0)("listOrderLabel",n+o.locations.pagination.currentPage*o.locations.pagination.pageSize+1)}}function Rn(e,t){if(e&1&&(l(0,"ol",22),m(1,An,2,9,"li",23),c()),e&2){let i=p(4);r(),s("ngForOf",i.locations==null?null:i.locations.stores)}}function Nn(e,t){if(e&1&&(l(0,"div",34)(1,"div",35),m(2,kn,2,2,"div",16)(3,Rn,2,1,"ol",17),c()()),e&2){let i=p(3);r(2),s("ngIf",i.isDetailsModeVisible),r(),s("ngIf",!i.isDetailsModeVisible)}}function Vn(e,t){if(e&1){let i=b();l(0,"div",36)(1,"div",37)(2,"cx-store-finder-map",19,0),E("selectedStoreItem",function(o){C(i);let a=p(3);return I(a.selectStoreItemList(o))}),c()()()}if(e&2){let i=p(3);r(2),s("locations",i.selectedStore?F(1,Ie,i.selectedStore):i.locations.stores)}}function Bn(e,t){if(e&1&&(l(0,"div",26)(1,"ul",27),m(2,On,4,9,"li",28),u(3,"keyvalue"),c(),l(4,"div",29)(5,"div",30),m(6,Nn,4,2,"ng-template",31)(7,Vn,4,3,"ng-template",31),c()()()),e&2){let i=p(2);r(2),s("ngForOf",f(3,4,i.displayModes)),r(3),s("ngSwitch",i.activeDisplayMode),r(),s("ngSwitchCase",i.displayModes.LIST_VIEW),r(),s("ngSwitchCase",i.displayModes.MAP_VIEW)}}function jn(e,t){e&1&&(l(0,"div",6)(1,"div",38),_(2),u(3,"cxTranslate"),c()()),e&2&&(r(2),v(" ",f(3,1,"storeFinder.noStoreFound")," "))}function Pn(e,t){if(e&1&&(L(0),l(1,"div",2),m(2,wn,7,3,"div",3)(3,bn,7,3,"div",4)(4,Bn,8,6,"div",5)(5,jn,4,3,"div",3),c(),D()),e&2){let i=p();r(2),s("ngIf",i.locations==null?null:i.locations.pagination),r(),s("ngIf",i.locations==null?null:i.locations.stores),r(),s("ngIf",i.locations==null?null:i.locations.stores),r(),s("ngIf",!(i.locations!=null&&i.locations.stores))}}function $n(e,t){if(e&1){let i=b();l(0,"div")(1,"div",6)(2,"cx-pagination",7),E("viewPageEvent",function(o){C(i);let a=p(2);return I(a.viewPage(o))}),c()()()}if(e&2){let i=p().ngIf;r(2),s("pagination",i.pagination)}}function Gn(e,t){if(e&1&&S(0,"cx-store-finder-list",8),e&2){let i=p().ngIf,n=p();s("locations",i)("useMylocation",n.useMyLocation)}}function Un(e,t){e&1&&(l(0,"div",9)(1,"div",10)(2,"span",11),_(3),u(4,"cxTranslate"),c()()()),e&2&&(r(3),v(" ",f(4,1,"storeFinder.noStoresMessage")," "))}function Wn(e,t){if(e&1&&(l(0,"div"),S(1,"div",2),u(2,"cxTranslate"),m(3,$n,3,1,"div",3)(4,Gn,1,2,"cx-store-finder-list",4)(5,Un,5,3,"div",5),c()),e&2){let i=t.ngIf;r(),w("aria-label",f(2,4,"common.loaded")),r(2),s("ngIf",i==null?null:i.stores.length),r(),s("ngIf",i==null?null:i.stores.length),r(),s("ngIf",!(i!=null&&i.stores.length))}}function qn(e,t){e&1&&(l(0,"div",12),S(1,"cx-spinner"),c())}var Hn=e=>["../country",e];function zn(e,t){if(e&1&&(l(0,"div",7)(1,"span",8),_(2),u(3,"cxTranslate"),c()()),e&2){let i=p(2).ngIf;r(2),A(Q(3,1,"storeFinder.ariaLabelCountriesCount",F(4,se,i==null?null:i.length)))}}function Kn(e,t){if(e&1&&(L(0),m(1,zn,4,6,"div",6),D()),e&2){let i=p().ngIf;r(),s("ngIf",i==null?null:i.length)}}function Qn(e,t){if(e&1&&(l(0,"div",12),_(1),u(2,"cxTranslate"),c()),e&2){let i=p(2).ngIf;r(),v(" ",Q(2,1,"storeFinder.ariaLabelCountriesCount",F(4,se,i==null?null:i.length))," ")}}function Yn(e,t){if(e&1&&(l(0,"span",18),_(1),c()),e&2){let i=p().$implicit;s("ngClass",i!=null&&i.storeCountDataList?"country-header":"country-header-link"),r(),v("(",i.count,")")}}function Zn(e,t){if(e&1){let i=b();l(0,"div",13)(1,"a",14),E("keydown.space",function(o){let a=C(i).$implicit,d=p(3);return I(d.navigateToLocation(a.isoCode,o))}),l(2,"h2",15)(3,"span",16),_(4),c(),m(5,Yn,2,2,"span",17),c()()()}if(e&2){let i=t.$implicit;r(),s("routerLink",F(5,Hn,i.isoCode)),w("aria-label",i.name+"("+i.count+")"),r(2),s("ngClass",i!=null&&i.storeCountDataList?"country-header":"country-header-link"),r(),A(i.name),r(),s("ngIf",!(i!=null&&i.storeCountDataList))}}function Jn(e,t){if(e&1&&(l(0,"div",9),m(1,Qn,3,6,"div",10)(2,Zn,6,7,"div",11),c()),e&2){let i=p().ngIf;r(),s("cxFeature","!a11yStoreFinderAlerts"),r(),s("ngForOf",i)}}function Xn(e,t){e&1&&(l(0,"div",9)(1,"span",19),_(2),u(3,"cxTranslate"),c()()),e&2&&(r(2),v(" ",f(3,1,"storeFinder.noStoresMessage")," "))}function eo(e,t){if(e&1&&(L(0),S(1,"div",2),u(2,"cxTranslate"),m(3,Kn,2,1,"ng-container",3),l(4,"div",4),m(5,Jn,3,2,"div",5)(6,Xn,4,3,"div",5),c(),D()),e&2){let i=t.ngIf;r(),w("aria-label",f(2,4,"common.loaded")),r(2),s("cxFeature","a11yStoreFinderAlerts"),r(2),s("ngIf",i==null?null:i.length),r(),s("ngIf",!(i!=null&&i.length))}}function to(e,t){e&1&&(l(0,"div",20),S(1,"cx-spinner"),c())}function io(e,t){e&1&&(l(0,"div",2),S(1,"cx-store-finder-header")(2,"router-outlet"),c())}function no(e,t){e&1&&(l(0,"div",3)(1,"div",2),S(2,"cx-store-finder-header")(3,"router-outlet"),c()())}function oo(e,t){if(e&1){let i=b();l(0,"div",3),S(1,"div",4),u(2,"cxTranslate"),l(3,"div",5),_(4),c(),l(5,"div",6)(6,"button",7),E("click",function(){C(i);let o=p();return I(o.goBack())}),S(7,"cx-icon",8),_(8),u(9,"cxTranslate"),c()(),l(10,"div",9)(11,"div",10),S(12,"cx-store-finder-store-description",11),c()()()}if(e&2){let i=t.ngIf,n=p();r(),w("aria-label",f(2,6,"common.loaded")),r(3),v(" ",i==null?null:i.displayName," "),r(3),s("type",n.iconTypes.CARET_LEFT),r(),v(" ",f(9,8,"storeFinder.backToList")," "),r(4),s("disableMap",n.disableMap)("location",i)}}function ro(e,t){e&1&&(l(0,"div",12),S(1,"cx-spinner"),c())}var di=(()=>{let t=class t{constructor(n){this.storeFinderService=n}getDirections(n){return this.storeFinderService.getDirections(n)}getFormattedStoreAddress(n){return n.filter(Boolean).join(", ")}};t.\u0275fac=function(o){return new(o||t)(y(R))},t.\u0275dir=tt({type:t,inputs:{location:"location"}});let e=t;return e})(),ao=(()=>{let t=class t{constructor(){}ngOnInit(){this.location&&(this.weekDays=this.location.openingHours?.weekDayOpeningList)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["cx-schedule"]],inputs:{location:"location"},ngContentSelectors:Pi,decls:2,vars:1,consts:[["class","container cx-store-hours",4,"ngIf"],[1,"container","cx-store-hours"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"cx-days","col-4"],["class","cx-hours col-8 closed",4,"ngIf"],["class","cx-hours col-8",4,"ngIf"],[1,"cx-hours","col-8","closed"],[1,"cx-hours","col-8"]],template:function(o,a){o&1&&(ot(),rt(0),m(1,Wi,2,1,"div",0)),o&2&&(r(),s("ngIf",a.location.openingHours))},dependencies:[Y,P,O],encapsulation:2});let e=t;return e})(),pi=(()=>{let t=class t extends di{constructor(n){super(n),this.storeFinderService=n,this.locationIndex=null,this.storeItemClick=new Te,this.StoreFinderOutlets=Wt}handleStoreItemClick(){this.locationIndex!==null&&this.storeItemClick.emit(this.locationIndex)}onKey(n){n.key==="Enter"&&this.handleStoreItemClick()}};t.\u0275fac=function(o){return new(o||t)(y(R))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-list-item"]],inputs:{locationIndex:"locationIndex",listOrderLabel:"listOrderLabel",displayDistance:"displayDistance",useClickEvent:"useClickEvent"},outputs:{storeItemClick:"storeItemClick"},features:[we],decls:12,vars:16,consts:[["aria-relevant","all"],[1,"cx-store-list-order"],["class","cx-store-name","tabindex","0",3,"click","keyup",4,"ngIf"],["class","cx-store-name","tabindex","0",3,"routerLink",4,"ngIf"],["class","cx-store-address",4,"ngIf"],[3,"cxOutlet","cxOutletContext"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-sm","btn-secondary","btn-block","cx-button",3,"click","href"],["tabindex","0",1,"cx-store-name",3,"click","keyup"],["tabindex","0",1,"cx-store-name",3,"routerLink"],[1,"cx-store-address"],[1,"cx-store-address-street"],["class","cx-store-distance",4,"ngIf"],[1,"cx-store-distance"]],template:function(o,a){o&1&&(L(0),l(1,"div",0)(2,"div",1),_(3),c(),m(4,Hi,2,1,"a",2)(5,zi,2,4,"a",3)(6,Qi,5,8,"div",4)(7,Yi,0,0,"ng-template",5),l(8,"a",6),u(9,"cxTranslate"),E("click",function(g){return g.stopPropagation()}),_(10),u(11,"cxTranslate"),c()(),D()),o&2&&(r(3),v(" ",a.listOrderLabel," "),r(),s("ngIf",a.useClickEvent),r(),s("ngIf",!a.useClickEvent),r(),s("ngIf",a.location.address),r(),s("cxOutlet",a.StoreFinderOutlets.PREFERRED_STORE)("cxOutletContext",at(13,qi,a.location.displayName,a.location.name)),r(),J("href",a.getDirections(a.location),pe),w("aria-label",f(9,9,"storeFinder.ariaLabelGetDirections")),r(2),A(f(11,11,"storeFinder.getDirections")))},dependencies:[P,ge,Vt,O],encapsulation:2});let e=t;return e})(),si=(()=>{let t=class t{constructor(n,o){this.storeFinderService=n,this.route=o,oe("a11yStoreFinderAlerts")}ngOnInit(){this.isLoading$=this.storeFinderService.getStoresLoading(),this.locations$=this.storeFinderService.getFindStoresEntities(),this.defaultLocation={},this.findStores()}findStores(){this.route.snapshot.params.country&&this.storeFinderService.callFindStoresAction(this.route.snapshot.params)}};t.\u0275fac=function(o){return new(o||t)(y(R),y(fe))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-grid"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[1,"container"],["class","cx-counter",4,"cxFeature"],["class","cx-visually-hidden",4,"cxFeature"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 item",4,"ngFor","ngForOf"],[1,"cx-counter"],[1,"cx-counter-title"],["role","alert"],[1,"cx-visually-hidden"],[1,"col-sm-6","col-md-4","col-lg-3","item"],[3,"location"],[1,"cx-spinner"]],template:function(o,a){if(o&1&&(m(0,en,8,6,"ng-container",1),u(1,"async"),u(2,"async"),m(3,tn,2,0,"ng-template",null,0,X)),o&2){let d=K(4);s("ngIf",!f(1,2,a.isLoading$)&&f(2,4,a.locations$))("ngIfElse",d)}},dependencies:[Y,P,re,ne,pi,ee,O],encapsulation:2,changeDetection:0});let e=t;return e})(),so=(()=>{let t=class t{constructor(n){this.routingService=n,this.searchBox=new At,this.iconTypes=he}findStores(n){this.routingService.go(["store-finder/find"],{queryParams:{query:n}})}viewStoresWithMyLoc(){this.routingService.go(["store-finder/find"],{queryParams:{useMyLocation:!0}})}onKey(n){this.searchBox.value&&this.searchBox.value.length&&n.key==="Enter"&&this.findStores(this.searchBox.value)}};t.\u0275fac=function(o){return new(o||t)(y(H))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-search"]],decls:20,vars:28,consts:[["queryInput",""],[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6"],[1,"form-group","search-wrapper"],["type","text",1,"form-control",3,"keyup","formControl","placeholder"],["role","button",1,"search",3,"keyup","type","routerLink","queryParams","ngClass"],[1,"row","cx-search-links","mb-3"],[1,"col-6"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(o,a){if(o&1){let d=b();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),u(6,"cxTranslate"),u(7,"cxTranslate"),E("keyup",function(N){return C(d),I(a.onKey(N))}),c(),l(8,"cx-icon",6),u(9,"cxTranslate"),E("keyup",function(N){return C(d),I(a.onKey(N))}),c()()(),l(10,"div",3)(11,"div",7)(12,"div",8)(13,"button",9),E("click",function(){return C(d),I(a.viewStoresWithMyLoc())}),_(14),u(15,"cxTranslate"),c()(),l(16,"div",8)(17,"button",10),_(18),u(19,"cxTranslate"),c()()()()()()}if(o&2){let d=K(5);r(4),J("placeholder",f(6,12,"storeFinder.searchBox")),s("formControl",a.searchBox),w("aria-label",f(7,14,"storeFinder.searchBoxLabel")),r(4),s("type",a.iconTypes.SEARCH)("routerLink",be(22,nn))("queryParams",F(23,on,d.value))("ngClass",F(25,rn,!(d.value&&d.value.length))),w("tabindex",d.value!=null&&d.value.length?0:-1)("aria-label",f(9,16,"storeFinder.searchNearestStores")),r(6),v(" ",f(15,18,"storeFinder.useMyLocation")," "),r(3),s("routerLink",be(27,an)),r(),v(" ",f(19,20,"storeFinder.viewAllStores")," ")}},dependencies:[me,Ot,kt,Rt,ge,ye,O],encapsulation:2});let e=t;return e})(),co=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-header"]],decls:3,vars:3,consts:[["role","search"]],template:function(o,a){o&1&&(L(0),S(1,"cx-store-finder-search",0),u(2,"cxTranslate"),D()),o&2&&(r(),w("aria-label",f(2,1,"storeFinder.storeFinder")))},dependencies:[so,O],encapsulation:2});let e=t;return e})(),ui=(()=>{let t=class t{constructor(n){this.googleMapRendererService=n,this.selectedStoreItem=new Te,oe("a11yStoreFinderOverflow")}ngOnChanges(n){n.locations&&this.locations&&this.renderMap()}centerMap(n,o){this.googleMapRendererService.centerMap(n,o)}renderMap(){this.googleMapRendererService.renderMap(this.mapElement.nativeElement,this.locations,n=>{this.selectStoreItemClickHandle(n)})}selectStoreItemClickHandle(n){this.selectedStoreItem.emit(n)}};t.\u0275fac=function(o){return new(o||t)(y(oi))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-map"]],viewQuery:function(o,a){if(o&1&&Me(sn,7),o&2){let d;Le(d=De())&&(a.mapElement=d.first)}},inputs:{locations:"locations"},outputs:{selectedStoreItem:"selectedStoreItem"},features:[it],decls:2,vars:0,consts:[["mapElement",""],["aria-hidden","true",1,"cx-store-map"]],template:function(o,a){o&1&&S(0,"div",1,0)},encapsulation:2});let e=t;return e})(),lo=(()=>{let t=class t{constructor(){}getResultsPerPage(){if(this.pagination.totalResults>this.pagination.pageSize){let n=this.pagination.currentPage*this.pagination.pageSize+1,o=(this.pagination.currentPage+1)*this.pagination.pageSize;return o>this.pagination.totalResults&&(o=this.pagination.totalResults),`${n} - ${o}`}else return`1 - ${this.pagination.totalResults}`}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-pagination-details"]],inputs:{pagination:"pagination"},decls:3,vars:7,consts:[["role","alert",1,"cx-pagination-details"]],template:function(o,a){o&1&&(l(0,"span",0),_(1),u(2,"cxTranslate"),c()),o&2&&(r(),$(" ",a.getResultsPerPage()," ",Q(2,2,"storeFinder.fromStoresFound",F(5,se,a.pagination.totalResults)),`
`))},dependencies:[O],encapsulation:2});let e=t;return e})(),Ke=function(e){return e.LIST_VIEW="listView",e.MAP_VIEW="mapView",e}(Ke||{}),mi=(()=>{let t=class t extends di{constructor(n){super(n),this.storeFinderService=n,oe("a11yStoreFinderOverflow")}};t.\u0275fac=function(o){return new(o||t)(y(R))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-store-description"]],inputs:{location:"location",disableMap:"disableMap"},features:[we],decls:1,vars:1,consts:[[4,"ngIf"],[4,"cxFeature"],[1,"cx-container"],[1,"cx-store"],["class","cx-store-description-address",4,"ngIf"],[1,"cx-contact"],[1,"cx-list"],[1,"cx-item"],["target","_blank","rel","noopener noreferrer",1,"cx-link",3,"href"],["class","cx-item",4,"ngIf"],["class","cx-schedule",4,"ngIf"],["class","cx-features",4,"ngIf"],["class","cx-storeMap",4,"ngIf"],[1,"cx-store-description-address"],[1,"cx-schedule"],[3,"location"],[1,"cx-features"],[1,"cx-features-header"],["class","cx-feature-item",4,"ngFor","ngForOf"],[1,"cx-feature-item"],[1,"cx-storeMap"],[3,"locations"],[1,"container"],[1,"row"],[1,"cx-store","col-md-4"],["aria-hidden","true"],["class","cx-storeMap col-lg-8",4,"ngIf"],[1,"col-lg-12"],["class","col-lg-12 cx-feature-item",4,"ngFor","ngForOf"],[1,"col-lg-12","cx-feature-item"],[1,"cx-feature-value"],[1,"cx-storeMap","col-lg-8"]],template:function(o,a){o&1&&m(0,Cn,3,2,"ng-container",0),o&2&&s("ngIf",a.location)},dependencies:[Y,P,ne,ui,ao,pt,O],encapsulation:2});let e=t;return e})(),po=(()=>{let t=class t{constructor(n,o){this.storeFinderService=n,this.document=o,this.iconTypes=he,this.displayModes=Ke,this.activeDisplayMode=Ke.LIST_VIEW,this.isDetailsModeVisible=!1}centerStoreOnMapByIndex(n,o){this.showStoreDetails(o),this.selectedStoreIndex=n,this.selectedStore=o,this.storeMap.centerMap(this.storeFinderService.getStoreLatitude(this.locations.stores[n]),this.storeFinderService.getStoreLongitude(this.locations.stores[n]))}selectStoreItemList(n){this.selectedStoreIndex=n,this.document.getElementById("item-"+n).scrollIntoView({behavior:"smooth",block:"center"})}showStoreDetails(n){this.isDetailsModeVisible=!0,this.storeDetails=n}hideStoreDetails(){this.isDetailsModeVisible=!1,this.selectedStoreIndex=void 0,this.selectedStore=void 0,this.storeMap.renderMap()}setDisplayMode(n){this.activeDisplayMode=n}isDisplayModeActive(n){return this.activeDisplayMode===n}};t.\u0275fac=function(o){return new(o||t)(y(R),y(ct))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-list"]],viewQuery:function(o,a){if(o&1&&Me(In,5),o&2){let d;Le(d=De())&&(a.storeMap=d.first)}},inputs:{locations:"locations",useMylocation:"useMylocation"},decls:1,vars:1,consts:[["storeMap",""],[4,"ngIf"],[1,"container","mb-2"],["class","row",4,"ngIf"],["class","row cx-columns",4,"ngIf"],["class","cx-columns-mobile",4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"pagination"],[1,"text-left","cx-back-wrapper"],[1,"cx-visually-hidden"],["class","btn btn-block btn-secondary cx-back",3,"click",4,"ngIf"],[1,"btn","btn-block","btn-secondary","cx-back",3,"click"],[3,"type"],[1,"row","cx-columns"],[1,"col-md-4","cx-address-col"],["class","cx-store-details",4,"ngIf"],["class","cx-list",4,"ngIf"],[1,"col-md-8","cx-map-col"],[3,"selectedStoreItem","locations"],[1,"cx-store-details"],[3,"location","disableMap"],[1,"cx-list"],["class","cx-list-items",3,"id","ngClass",4,"ngFor","ngForOf"],[1,"cx-list-items",3,"id","ngClass"],[3,"storeItemClick","location","locationIndex","displayDistance","useClickEvent","listOrderLabel"],[1,"cx-columns-mobile"],["role","tablist",1,"nav","cx-nav"],["class","nav-item cx-nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"nav-item","cx-nav-item"],["role","tab","aria-disabled","false",3,"click","id","ngClass"],["id","tab-listView-panel","role","tabpanel","aria-labelledby","tab-listView"],[1,"cx-address-col"],["id","tab-mapView-panel","role","tabpanel","aria-labelledby","tab-mapView"],[1,"cx-map-col"],[1,"col-md-12","cx-not-found"]],template:function(o,a){o&1&&m(0,Pn,6,4,"ng-container",1),o&2&&s("ngIf",a.locations)},dependencies:[me,Y,P,lt,dt,ye,ui,pi,mi,lo,ut,O],encapsulation:2});let e=t;return e})(),uo=(()=>{let t=class t{constructor(n,o,a){this.storeFinderService=n,this.route=o,this.config=a,this.countryCode=null,this.searchConfig={currentPage:0}}ngOnInit(){this.subscription=this.route.queryParams.subscribe(n=>this.initialize(n))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}viewPage(n){this.searchConfig=W(U({},this.searchConfig),{currentPage:n}),this.storeFinderService.findStoresAction(this.searchQuery.queryText,this.searchConfig,this.geolocation,this.countryCode,this.useMyLocation,this.radius)}initialize(n){this.searchQuery=this.parseParameters(n),this.useMyLocation=!!(n&&n.useMyLocation),this.searchConfig=W(U({},this.searchConfig),{currentPage:0}),this.radius=this.config.googleMaps.radius,this.storeFinderService.findStoresAction(this.searchQuery.queryText,this.searchConfig,this.geolocation,this.countryCode,this.useMyLocation,this.radius),this.isLoading$=this.storeFinderService.getStoresLoading(),this.locations$=this.storeFinderService.getFindStoresEntities()}parseParameters(n){let o;return n.query?o={queryText:n.query}:o={queryText:""},o.useMyLocation=n.useMyLocation!=null&&n.useMyLocation.toUpperCase()==="TRUE",o}};t.\u0275fac=function(o){return new(o||t)(y(R),y(fe),y(We))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-search-result"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[4,"ngIf"],[3,"locations","useMylocation",4,"ngIf"],["class","container",4,"ngIf"],[1,"cx-pagination"],["aria-hidden","true",3,"viewPageEvent","pagination"],[3,"locations","useMylocation"],[1,"container"],[1,"row"],["role","alert",1,"cx-no-stores"],[1,"cx-spinner"]],template:function(o,a){if(o&1&&(m(0,Wn,6,6,"div",1),u(1,"async"),u(2,"async"),m(3,qn,2,0,"ng-template",null,0,X)),o&2){let d=K(4);s("ngIf",!f(1,2,a.isLoading$)&&f(2,4,a.locations$))("ngIfElse",d)}},dependencies:[P,$t,re,po,ee,O],encapsulation:2});let e=t;return e})(),mo=(()=>{let t=class t{constructor(n){this.storeFinderService=n,this.routingService=z(H,{optional:!0}),oe("a11yStoreFinderAlerts")}ngOnInit(){this.storeFinderService.viewAllStores(),this.locations$=this.storeFinderService.getViewAllStoresEntities(),this.isLoading$=this.storeFinderService.getViewAllStoresLoading()}navigateToLocation(n,o){this.routingService&&(o?.preventDefault(),this.routingService.go(["/store-finder/country",n]))}};t.\u0275fac=function(o){return new(o||t)(y(R))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-stores-count"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[4,"cxFeature"],[1,"cx-count","container"],["class","row",4,"ngIf"],["class","col-12 m-3",4,"ngIf"],[1,"col-12","m-3"],["role","alert"],[1,"row"],["class","cx-visually-hidden",4,"cxFeature"],["class","cx-set col-sm-6 col-md-4 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"cx-visually-hidden"],[1,"cx-set","col-sm-6","col-md-4","col-lg-4","col-xl-3"],["role","button",1,"btn-link",3,"keydown.space","routerLink"],["aria-hidden","true",1,"cx-title"],[1,"cx-name",3,"ngClass"],["class","cx-country-count",3,"ngClass",4,"ngIf"],[1,"cx-country-count",3,"ngClass"],["role","alert",1,"cx-no-stores"],[1,"cx-count-spinner"]],template:function(o,a){if(o&1&&(m(0,eo,7,6,"ng-container",1),u(1,"async"),u(2,"async"),m(3,to,2,0,"ng-template",null,0,X)),o&2){let d=K(4);s("ngIf",!f(1,2,a.isLoading$)&&f(2,4,a.locations$))("ngIfElse",d)}},dependencies:[me,Y,P,ge,re,ne,ee,O],encapsulation:2});let e=t;return e})(),_o=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder"]],decls:3,vars:2,consts:[["class","cx-store-finder-wrapper",4,"cxFeature"],["aria-live","assertive","aria-relevant","additions text",4,"cxFeature"],[1,"cx-store-finder-wrapper"],["aria-live","assertive","aria-relevant","additions text"]],template:function(o,a){o&1&&(L(0),m(1,io,3,0,"div",0)(2,no,4,0,"div",1),D()),o&2&&(r(),s("cxFeature","a11yStoreFinderAlerts"),r(),s("cxFeature","!a11yStoreFinderAlerts"))},dependencies:[xt,ne,co],encapsulation:2});let e=t;return e})(),ci=(()=>{let t=class t{constructor(n,o,a){this.storeFinderService=n,this.route=o,this.routingService=a,this.iconTypes=he}ngOnInit(){this.location||(this.requestStoresData(),this.location$=this.storeFinderService.getFindStoreEntityById(),this.isLoading$=this.storeFinderService.getStoresLoading())}requestStoresData(){this.storeFinderService.viewStoreById(this.route.snapshot.params.store)}goBack(){this.routingService.go([`store-finder/country/${this.route.snapshot.params.country}`])}};t.\u0275fac=function(o){return new(o||t)(y(R),y(fe),y(H))},t.\u0275cmp=T({type:t,selectors:[["cx-store-finder-store"]],inputs:{location:"location",disableMap:"disableMap"},decls:6,vars:6,consts:[["loading",""],["aria-live","assertive","aria-atomic","true","aria-relevant","additions"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["role","status"],[1,"cx-visually-hidden"],[1,"cx-store-actions"],[1,"btn","btn-block","btn-secondary",3,"click"],[3,"type"],[1,"row"],[1,"col-12","p-0"],[3,"disableMap","location"],[1,"cx-spinner"]],template:function(o,a){if(o&1&&(l(0,"div",1),m(1,oo,13,10,"div",2),u(2,"async"),u(3,"async"),c(),m(4,ro,2,0,"ng-template",null,0,X)),o&2){let d=K(5);r(),s("ngIf",a.location||!f(2,2,a.isLoading$)&&f(3,4,a.location$))("ngIfElse",d)}},dependencies:[P,re,ye,mi,ee,O],encapsulation:2});let e=t;return e})(),_i=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=j({type:t}),t.\u0275inj=B({providers:[Z({cmsComponents:{StoreFinderComponent:{component:_o,childRoutes:[{path:"find",component:uo},{path:"view-all",component:mo},{path:"country/:country",component:si},{path:"country/:country/region/:region",component:si},{path:"country/:country/region/:region/:store",component:ci},{path:"country/:country/:store",component:ci}]}}})],imports:[_e,Nt,ht,Gt,Pt,Mt,Ce,Dt,jt,Bt,Tt]});let e=t;return e})();var ar=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=j({type:t}),t.\u0275inj=B({imports:[Ce,ai,_i]});let e=t;return e})();export{We as a,R as b,ar as c};
